
server-client connection:

Servers MUST advertise the casemapping they use in the RPL_ISUPPORT numeric thatâ€™s sent when connection registration has completed.

When reading messages from a stream, read the incoming data into a buffer. Only parse and process a message once you encounter the \r\n at the end of it. If you encounter an empty message, silently ignore it.
When sending messages, ensure that a pair of \r\n characters follows every single message your software sends out.
clients and servers alike MUST NOT send single \r or \n characters.

Most messages sent from a client to a server generates a reply of some sort. The most common form of reply is the numeric reply, used for both errors and normal replies. Distinct from a normal message, a numeric reply MUST contain a <source> and use a three-digit numeric as the command. A numeric reply SHOULD contain the target of the reply as the first parameter of the message. A numeric reply is not allowed to originate from a client.